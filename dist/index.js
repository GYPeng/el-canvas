!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.finalModule=e():t.finalModule=e()}(self,(()=>(()=>{"use strict";var t={194:(t,e,i)=>{i.r(e),i.d(e,{Easing:()=>r,Group:()=>a,Interpolation:()=>s,Sequence:()=>l,Tween:()=>c,VERSION:()=>u,add:()=>g,default:()=>b,getAll:()=>f,nextId:()=>p,now:()=>o,remove:()=>y,removeAll:()=>v,update:()=>_});var n,r={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Bounce.In(2*t):.5*r.Bounce.Out(2*t-1)+.5}}},o="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},a=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=o()),void 0===e&&(e=!1);var i=Object.keys(this._tweens);if(0===i.length)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++){var r=this._tweens[i[n]],a=!e;r&&!1===r.update(t,a)&&!e&&delete this._tweens[i[n]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),s={Linear:function(t,e){var i=t.length-1,n=i*e,r=Math.floor(n),o=s.Utils.Linear;return e<0?o(t[0],t[1],n):e>1?o(t[i],t[i-1],i-n):o(t[r],t[r+1>i?i:r+1],n-r)},Bezier:function(t,e){for(var i=0,n=t.length-1,r=Math.pow,o=s.Utils.Bernstein,a=0;a<=n;a++)i+=r(1-e,n-a)*r(e,a)*t[a]*o(n,a);return i},CatmullRom:function(t,e){var i=t.length-1,n=i*e,r=Math.floor(n),o=s.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(r=Math.floor(n=i*(1+e))),o(t[(r-1+i)%i],t[r],t[(r+1)%i],t[(r+2)%i],n-r)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[i]-(o(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):o(t[r?r-1:0],t[r],t[i<r+1?i:r+1],t[i<r+2?i:r+2],n-r)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=s.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(n=[1],function(t){var e=1;if(n[t])return n[t];for(var i=t;i>1;i--)e*=i;return n[t]=e,e}),CatmullRom:function(t,e,i,n,r){var o=.5*(i-t),a=.5*(n-e),s=r*r;return(2*e-2*i+o+a)*(r*s)+(-3*e+3*i-2*o-a)*s+o*r+e}}},l=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),h=new a,c=function(){function t(t,e){void 0===e&&(e=h),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=r.Linear.None,this._interpolationFunction=s.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=l.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?o()+parseFloat(t):t:o(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,i,n){for(var r in i){var o=t[r],a=Array.isArray(o),s=a?"array":typeof o,l=!a&&Array.isArray(i[r]);if("undefined"!==s&&"function"!==s){if(l){var h=i[r];if(0===h.length)continue;h=h.map(this._handleRelativeValue.bind(this,o)),i[r]=[o].concat(h)}if("object"!==s&&!a||!o||l)void 0===e[r]&&(e[r]=o),a||(e[r]*=1),n[r]=l?i[r].slice().reverse():e[r]||0;else{for(var c in e[r]=a?[]:{},o)e[r][c]=o[c];n[r]=a?[]:{},this._setupProperties(o,e[r],i[r],n[r])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=o()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=o()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=o()),void 0===e&&(e=!0),this._isPaused)return!0;var i,n,r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>r)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var a=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(i in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[i]||(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,i,n){for(var r in i)if(void 0!==e[r]){var o=e[r]||0,a=i[r],s=Array.isArray(t[r]),l=Array.isArray(a);!s&&l?t[r]=this._interpolationFunction(a,n):"object"==typeof a&&a?this._updateProperties(t[r],o,a,n):"number"==typeof(a=this._handleRelativeValue(o,a))&&(t[r]=o+(a-o)*n)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],i=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof i?this._valuesStartRepeat[t]+parseFloat(i):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),u="18.6.4",p=l.nextId,d=h,f=d.getAll.bind(d),v=d.removeAll.bind(d),g=d.add.bind(d),y=d.remove.bind(d),_=d.update.bind(d);const b={Easing:r,Group:a,Interpolation:s,now:o,Sequence:l,nextId:p,Tween:c,VERSION:u,getAll:f,removeAll:v,add:g,remove:y,update:_}},913:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ratio=void 0,e.ratio=2},489:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(365),a=i(685),s=function(t){function e(e){var i=t.call(this,e)||this;return i.name="input",i.borderBottomColor="#333",i.borderBottomWidth=2,i.borderLeftColor="#333",i.borderLeftWidth=2,i.borderRightColor="#333",i.borderRightWidth=2,i.borderTopColor="#333",i.borderTopWidth=2,i.value="",i.placeholder="",i.bgColor="white",i.value=e.value,i.placeholder=e.placeholder,i.label=new a.default({text:i.value||i.placeholder,lineHeight:e.height,textAlign:"right"}),i.append(i.label),i.on("touchstart",(function(){var t,e=this;document.getElementById("input-dom")?t=document.getElementById("input-dom"):((t=document.createElement("input")).id="input-dom",t.style.position="fixed",t.style.zIndex="2",t.style.boxSizing="border-box",t.addEventListener("blur",(function(){this.style.display="none",e.value=this.value||"",e.label.attr("text",this.value||"")})),document.body.append(t)),this.label.attr("text",""),t.value=this.value||"",t.style.left=this.pageX/2+this.root.target.getBoundingClientRect().x+"px",t.style.top=this.pageY/2+this.root.target.getBoundingClientRect().y+"px",t.style.display="block",t.style.width="".concat(this.width/2,"px"),t.style.height="".concat(this.height/2,"px"),t.style.background="transparent",t.style.borderLeftColor=this.borderLeftColor,t.style.borderRightColor=this.borderRightColor,t.style.borderTopColor=this.borderTopColor,t.style.borderBottomColor=this.borderBottomColor,t.style.borderLeftWidth="".concat(this.borderLeftWidth/2,"px"),t.style.borderRightWidth="".concat(this.borderRightWidth/2,"px"),t.style.borderTopWidth="".concat(this.borderTopWidth/2,"px"),t.style.borderTopWidth="".concat(this.borderTopWidth/2,"px"),t.style.outline="none",t.focus()})),i}return r(e,t),e.prototype.append=function(t){},e.prototype.remove=function(t){},e.children=null,e}(o.default);e.default=s},685:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(365),a=i(913),s=function(t){function e(e){var i=t.call(this,{width:0,height:0})||this;return i.name="label",i.text=e.text||"",i.color=e.color,i.stroke=void 0!==e.stroke&&e.stroke,i.lineHeight=e.lineHeight?e.lineHeight*a.ratio:16*a.ratio,i.fontFamily=e.fontFamily||"Arial",i.fontSize=e.fontSize?e.fontSize*a.ratio:14*a.ratio,i.bold=void 0!==e.bold&&e.bold,i.textAlign=e.textAlign||"center",i.underLine=void 0===e.underLine?null:e.underLine,i}return r(e,t),e.prototype.attr=function(t,e){this[t]=e,this.parent.canvas=void 0},e.prototype.append=function(t){},e.prototype.remove=function(t){},e.width=0,e.height=0,e}(o.default);e.default=s},757:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.list=[]}return t.prototype.use=function(t){var e=this;return new Promise((function(i,n){if(e.list.find((function(e){return e.src===t})))i(e.list.find((function(e){return e.src===t})).img);else{var r=document.createElement("img");r.src=t,r.onload=function(){e.list.push({src:t,img:r}),i(e.list.find((function(e){return e.src===t})).img)},r.onerror=function(t){n(t)},r.onabort=function(t){n(t)}}}))},t}();e.default=new i},557:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var h=i(365),c=i(757),u=i(913),p=["mousedown","mouseup","mousemove"],d=i(194),f=function(t){function e(e){var i=t.call(this,{width:e.offsetWidth,height:e.offsetHeight})||this;return i.eventConsed=!0,i.eventColorMap=[],i.currentEventColor="#000000",i.viewArea={clipX:0,clipY:0,clipWidth:i.width,clipHeight:i.height},i.target=e,i.createCanvas(),i.frame.call(i),i}return r(e,t),e.prototype.createCanvas=function(){var t=this;this.ghostCanvas=document.createElement("canvas"),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.ghostCanvas.width=this.canvas.width=this.width,this.ghostCanvas.height=this.canvas.height=this.height,this.canvas.style.height="100%",this.canvas.style.width="100%",this.ghostCanvas.style.height="100%",this.ghostCanvas.style.width="100%",this.target.append(this.canvas),p.forEach((function(e){t.canvas.addEventListener(e,(function(i){if(t.eventConsed){t.eventConsed=!1,i.preventDefault();var n=document.getElementById("input-dom");n&&n.blur();var r=i.pageX,o=i.pageY;t.eventType=e,t.eventX=(r-t.target.getBoundingClientRect().x)*u.ratio,t.eventY=(o-t.target.getBoundingClientRect().y)*u.ratio,t.eventObj=i;var a=t._eventMap[e];if(t._eventMap[e])for(var s=0;s<a.length;s++)a[s].call(t,i)}}),!1)})),this.canvas.addEventListener("touchstart",(function(e){if(t.eventConsed){t.eventConsed=!1,e.preventDefault();var i=document.getElementById("input-dom");i&&i.blur();var n=e.targetTouches[0],r=n.pageX,o=n.pageY;t.eventType="touchstart",t.eventX=(r-t.target.getBoundingClientRect().x)*u.ratio,t.eventY=(o-t.target.getBoundingClientRect().y)*u.ratio,t.eventObj=e;var a=t._eventMap.touchstart;if(t._eventMap.touchstart)for(var s=0;s<a.length;s++)a[s].call(t,e)}}),!1),this.canvas.addEventListener("touchmove",(function(e){if(t.eventConsed){t.eventConsed=!1,e.preventDefault();var i=e.targetTouches[0],n=i.pageX,r=i.pageY;t.eventType="touchmove",t.eventX=(n-t.target.getBoundingClientRect().x)*u.ratio,t.eventY=(r-t.target.getBoundingClientRect().y)*u.ratio,t.eventObj=e;var o=t._eventMap.touchmove;if(t._eventMap.touchmove)for(var a=0;a<o.length;a++)o[a].call(t,e)}}),!1),this.canvas.addEventListener("touchcancel",(function(e){var i=t._eventMap.touchcancel;if(t._eventMap.touchcancel)for(var n=0;n<i.length;n++)i[n].call(t,e);t.eventColorMap.forEach((function(t,i){var n=t.trigger._eventMap.touchcancel;if(t.trigger._eventMap.touchcancel)for(var r=0;r<n.length;r++)n[r].call(t.trigger,e)}))}),!1),this.canvas.addEventListener("touchend",(function(e){var i=t._eventMap.touchend;if(t._eventMap.touchend)for(var n=0;n<i.length;n++)i[n].call(t,e);t.eventColorMap.forEach((function(t,i){var n=t.trigger._eventMap.touchend;if(t.trigger._eventMap.touchend)for(var r=0;r<n.length;r++)n[r].call(t.trigger,e)}))}),!1),this.canvas.addEventListener("wheel",(function(e){var i=t._eventMap.wheel;if(t._eventMap.wheel)for(var n=0;n<i.length;n++)i[n].call(t,e);t.eventColorMap.forEach((function(t,i){var n=t.trigger._eventMap.wheel;if(t.trigger._eventMap.wheel)for(var r=0;r<n.length;r++)n[r].call(t.trigger,e)}))}),!1)},e.prototype.frame=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return d.default.update(t),this.ctx.clearRect(0,0,this.width,this.height),this.currentEventColor="#000000",this.eventColorMap=[],[4,this.deep(this.children)];case 1:return e.sent(),this.eventConsed=!0,this.eventObj=null,this.eventX=null,this.eventY=null,requestAnimationFrame(this.frame.bind(this)),[2]}}))}))},e.prototype.deep=function(t){var e,i;return a(this,void 0,void 0,(function(){var n,r,a,h,c,u,p,d,f,v,g,y,_,b,w,m,C,x,T;return s(this,(function(s){switch(s.label){case 0:(n=l([],t,!0)).sort((function(t,e){return t.zIndex-e.zIndex})),r=0,s.label=1;case 1:return r<n.length?((a=n[r]).frame(Date.now()),h=a.width,c=a.height,u=a.name,a._eventMap,a.id,a.zIndex,a.visible&&"label"!==u?(Object.keys(a._eventMap).length&&(a.eventLock=!1,a.eventColor=this.currentEventColor,this.eventColorMap.push({color:this.currentEventColor,trigger:a}),this.eventColorUp()),p="fixed"===a.position?a.x:((null===(e=a.parent)||void 0===e?void 0:e.pageX)||0)+(a.x||0),d="fixed"===a.position?a.y:((null===(i=a.parent)||void 0===i?void 0:i.pageY)||0)+(a.y||0),a.pageX=p,a.pageY=d,f=a.overflowX,v=a.overflowY,g=a.parent,y=g.overflowX,_=g.overflowY,b=void 0,w=void 0,m=void 0,C=void 0,"hidden"===y?"hidden"===f?p+h<g.viewArea.clipX||p>g.viewArea.clipX+g.viewArea.clipWidth?(b=g.viewArea.clipWidth||this.width,w=g.viewArea.clipX||0):p>g.viewArea.clipX?(w=p,b=g.viewArea.clipWidth+g.viewArea.clipX>p+h?h:g.viewArea.clipWidth+g.viewArea.clipX-w):(w=g.viewArea.clipX,b=g.viewArea.clipWidth+g.viewArea.clipX>p+h?h:g.viewArea.clipWidth):(b=g.viewArea.clipWidth,w=g.viewArea.clipX):"hidden"===f?(b=h,w=p):(w=Math.min(p,g.viewArea.clipX),b=g.viewArea.clipX+g.viewArea.clipWidth>p+h?g.viewArea.clipWidth:g.viewArea.clipWidth+(p+h-w)),"hidden"===_?"hidden"===v?d+c<g.viewArea.clipY||d>g.viewArea.clipY+g.viewArea.clipHeight?(m=g.viewArea.clipHeight||this.height,C=g.viewArea.clipY||0):d>g.viewArea.clipY?(C=d,m=g.viewArea.clipHeight+g.viewArea.clipY>d+c?c:g.viewArea.clipHeight+g.viewArea.clipY-C):(C=g.viewArea.clipY,m=g.viewArea.clipHeight+g.viewArea.clipY>d+c?c:g.viewArea.clipHeight):(m=g.viewArea.clipHeight,C=g.viewArea.clipY):"hidden"===v?(m=c,C=d):(C=Math.min(d,g.viewArea.clipY),m=g.viewArea.clipY+g.viewArea.clipHeight>d+c?g.viewArea.clipHeight:g.viewArea.clipHeight+(d+c-C)),a.viewArea={clipX:w,clipY:C,clipWidth:b,clipHeight:m},this.ghostCtx.save(),this.ghostCtx.rect(w,C,b,m),this.ghostCtx.fillStyle=a.eventColor||"#ffffff",this.ghostCtx.fillRect(p,d,h,c),this.ghostCtx.restore(),!1===a.eventLock&&this.eventObj&&(a.eventLock=this.eventResolve(a)),"sprite"!==u&&"scrollbar_ves"!==u&&"input"!==u?[3,10]:p>this.width||p+h<0?[3,8]:[3,2]):[2]):[3,11];case 2:return d>this.height||d+c<0?[3,8]:[3,3];case 3:return a.canvas?[3,8]:(a.canvas=document.createElement("canvas"),a.canvas.width=h,a.canvas.height=c,a.ctx=a.canvas.getContext("2d"),[4,this.drawBg(o(o({},a),{x:0,y:0}),a.ctx)]);case 4:if(s.sent(),this.drawBorder(o(o({},a),{x:0,y:0}),a.ctx),!(x=a.children.filter((function(t){return"label"===t.name}))).length)return[3,8];T=0,s.label=5;case 5:return T<x.length?[4,this.drawLabel(o(o({},x[T]),{x:0,y:0}),a.ctx)]:[3,8];case 6:s.sent(),s.label=7;case 7:return T++,[3,5];case 8:return a.canvas&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(g.viewArea.clipX,g.viewArea.clipY,g.viewArea.clipWidth,g.viewArea.clipHeight),this.ctx.closePath(),this.ctx.clip(),this.ctx.drawImage(a.canvas,p,d,h,c),this.ctx.restore()),a.children?[4,this.deep(a.children)]:[3,10];case 9:s.sent(),s.label=10;case 10:return r++,[3,1];case 11:return[2]}}))}))},e.prototype.eventColorUp=function(){var t=this.currentEventColor.replace("#",""),e=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),n=parseInt(t.substring(4,6),16);n<255?n++:(n=0,i<255?i++:(i=0,e<255&&e++));var r=e.toString(16),o=i.toString(16),a=n.toString(16),s="#".concat(e>15?r:"0"+r).concat(i>15?o:"0"+o).concat(n>15?a:"0"+a);this.currentEventColor=s},e.prototype.eventResolve=function(t){if(this.eventX&&this.eventY){var e=this.ghostCtx.getImageData(this.eventX,this.eventY,1,1).data,i=e[0],n=e[1],r=e[2],o=i.toString(16),a=n.toString(16),s=r.toString(16),l="#".concat(i>15?o:"0"+o).concat(n>15?a:"0"+a).concat(r>15?s:"0"+s),h=t.parent.viewArea,c=h.clipX,u=h.clipY,p=h.clipWidth,d=h.clipHeight;if(t.eventColor===l&&this.eventX>c&&this.eventX<c+p&&this.eventY>u&&this.eventY<u+d){var f=t._eventMap[this.eventType];if(t._eventMap[this.eventType])for(var v=0;v<f.length;v++)f[v].call(t,this.eventObj);if(!t.isEnter){var g=t._eventMap.mouseover;if(t._eventMap.mouseover)for(v=0;v<g.length;v++)g[v].call(t,this.eventObj);t.isEnter=!0}return!0}if(t.isEnter){if(f=t._eventMap.mouseout,t._eventMap.mouseout)for(v=0;v<f.length;v++)f[v].call(t,this.eventObj);t.isEnter=!1}}return!1},e.prototype.drawLabel=function(t,e){return a(this,void 0,void 0,(function(){var i,n,r,o,a,l,h,c,u,p,d,f,v,g,y,_,b,w,m,C,x,T,A,S,M,O,P,I;return s(this,(function(s){if(i=t.text,n=t.color,r=t.x,o=t.y,a=t.parent,l=t.textAlign,h=t.stroke,c=t.lineHeight,u=t.fontSize,p=t.fontFamily,d=t.underLine,f=t.bold,v=a.width,a.height,g=a.borderLeftWidth,y=a.borderLeftColor,_=a.borderRightColor,b=a.borderRightWidth,w=a.borderTopColor,m=a.borderTopWidth,a.borderBottomColor,a.borderBottomWidth,e.strokeStyle=n||"#000",e.textBaseline="top",e.textAlign="left",e.font="".concat(f?"bold":""," ").concat(u,"px ").concat(p),C=e.measureText(i).width,y&&g&&(r+=g,v-=g),_&&b&&(v-=b),w&&m&&(o+=m),e.fillStyle=n||"#000",!/\n/g.test(i)&&C<=v)"center"===l?r+=(v-C)/2:(l="left")?r=0:r+=v-C,h?e.strokeText(i,r,o+(c-u)/2,v):e.fillText(i,r,o+(c-u)/2,v),d&&(I=u/14,e.beginPath(),e.moveTo(r,o+c-I),e.lineTo(r+C,o+c-I),e.closePath(),e.strokeStyle=d,e.stroke());else for(x=i.split(""),T="",A=0;x.length||T;)S=x[0],M=e.measureText(T+S).width,"\n"===S||M>v||!x.length?("\n"===S&&x.shift(),O=e.measureText(T).width,P=r,"center"===l?P+=(v-O)/2:"right"===l&&(P+=v-O),h?e.strokeText(T,P,o+A+(c-u)/2,v):e.fillText(T,P,o+A+(c-u)/2,v),d&&(I=u/14,e.beginPath(),e.moveTo(P,o+A+(c-u)/2+c-I),e.lineTo(P+M,o+A+(c-u)/2+c-I),e.closePath(),e.strokeStyle=d,e.stroke()),T="",A+=c):T+=x.shift();return e.fillStyle=null,[2]}))}))},e.prototype.drawBg=function(t,e){return a(this,void 0,void 0,(function(){var i,n,r,o,a,l,h,u,p,d,f,v,g,y,_;return s(this,(function(s){switch(s.label){case 0:return i=t.bgImage,n=t.bgColor,r=t.width,o=t.height,a=t.x,l=t.y,h=t.borderLeftWidth,u=t.borderLeftColor,p=t.borderRightColor,d=t.borderRightWidth,f=t.borderTopColor,v=t.borderTopWidth,g=t.borderBottomColor,y=t.borderBottomWidth,h&&u&&(a+=h,r-=h),v&&f&&(l+=v,o-=v),d&&p&&(r-=d),g&&y&&(o-=y),i?[4,c.default.use(i)]:[3,2];case 1:return _=s.sent(),e.drawImage(_,a,l,r,o),[3,3];case 2:n&&(e.fillStyle=n,e.beginPath(),e.fillRect(a,l,r,o),e.fillStyle=null,e.closePath()),s.label=3;case 3:return[2]}}))}))},e.prototype.drawBorder=function(t,e){var i=t.width,n=t.height,r=t.borderLeftWidth,o=t.borderLeftColor,a=t.borderRightColor,s=t.borderRightWidth,l=t.borderTopColor,h=t.borderTopWidth,c=t.borderBottomColor,u=t.borderBottomWidth,p=t.x,d=t.y;r&&o&&(e.beginPath(),e.moveTo(p,d),e.lineTo(p+r,h&&l?d+h:d),e.lineTo(p+r,u&&c?d+(n-u):d+n),e.lineTo(p,d+n),e.closePath(),e.fillStyle=o,e.fill(),e.fillStyle=null),h&&l&&(e.beginPath(),e.moveTo(p,d),e.lineTo(o&&r?p+r:p,d+h),e.lineTo(a&&s?p+(i-s):p+i,d+h),e.lineTo(p+i,d),e.closePath(),e.fillStyle=l,e.fill(),e.fillStyle=null),s&&a&&(e.beginPath(),e.moveTo(p+i,d),e.lineTo(p+(i-s),h&&l?h+d:d),e.lineTo(p+(i-s),c&&u?d+(n-u):d+n),e.lineTo(p+i,d+n),e.closePath(),e.fillStyle=a,e.fill(),e.fillStyle=null),u&&c&&(e.beginPath(),e.moveTo(p,d+n),e.lineTo(o&&r?p+r:p,d+(n-u)),e.lineTo(a&&s?p+(i-s):p+i,d+(n-u)),e.lineTo(p+i,d+n),e.closePath(),e.fillStyle=c,e.fill(),e.fillStyle=null)},e}(h.default);e.default=f},873:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){}},434:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(913),a=i(365),s=i(194),l=function(t){function e(e){var i=t.call(this,e)||this,n=i;i.contentWidth=void 0===e.contentWidth?i.width:e.contentWidth*o.ratio,i.contentHeight=void 0===e.contentHeight?i.height:e.contentHeight*o.ratio;var r,s,l,h,c,u,p,d,f,v,g,y=new a.default({width:i.contentWidth,height:i.contentHeight});if(i.contentVes=y,y.name="scrollbar_ves",i.children)for(var _=i.children.reverse().length,b=0;b<_;b++)y.append(i.children[0]);i.append(y);var w=function(t){var e=t.targetTouches[0];l=e.clientX*o.ratio,h=e.clientY*o.ratio;var i=c+l-r,a=u+h-s;i>0||n.contentWidth<n.width?y.x=0:i<n.width-n.contentWidth?y.x=n.width-n.contentWidth:y.x=i,a>0||n.contentHeight<n.height?y.y=0:a<n.height-n.contentHeight?y.y=n.height-n.contentHeight:y.y=a,p=Date.now(),d=v-l,f=g-h,v=l,g=h};return i.on("touchstart",(function(t){var e=t.targetTouches[0];r=e.clientX*o.ratio,s=e.clientY*o.ratio,v=r,g=s,this.root.on("touchmove",w),c=y.x,u=y.y,this.stopInertia()})),i.on("touchend",(function(){var t=this;if(this.root.off("touchmove",w),Date.now()-p<500){var e={x:y.x,y:y.y};Math.abs(f)>30&&(e.y=y.y-10*f),Math.abs(d)>30&&(e.x=y.x-10*d),this.stopInertia(),this._tween.push({name:"inertia",coords:{x:y.x,y:y.y},interval:500,to:e,callback:function(e){t.wheel(e.x,e.y)}})}})),i.on("wheel",(function(t){var e=y.x-t.deltaX,i=y.y-t.deltaY;n.wheel(e,i)})),i}return r(e,t),e.prototype.stopInertia=function(){for(var t=this._tween.length-1;t>=0;t--){var e=this._tween[t];"inertia"===e.name&&(e.tween&&e.tween.stop(),this._tween.pop())}},e.prototype.wheel=function(t,e){var i=this.contentVes;t>0||this.contentWidth<this.width?i.x=0:t<this.width-this.contentWidth?i.x=this.width-this.contentWidth:i.x=t,e>0||this.contentHeight<this.height?i.y=0:e<this.height-this.contentHeight?i.y=this.height-this.contentHeight:i.y=e},e.prototype.frame=function(t){if(this._tween.length)for(var e=function(e){var n=i._tween[e];n.tween?t>n.beginMs+n.interval&&(n.tween.stop(),i._tween.pop()):(n.tween=new s.default.Tween(n.coords).to(n.to,n.interval).easing(s.default.Easing.Quadratic.Out).onUpdate((function(){n.callback(n.coords)})).start(),n.beginMs=t)},i=this,n=this._tween.length-1;n>=0;n--)e(n)},e}(a.default);e.default=l},365:function(t,e,i){var n=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var r=i(757),o=i(913),a=i(593),s=function(){function t(t){var e=this;this.name="sprite",this._eventMap={},this.pageX=0,this.pageY=0,this.children=[],this._tween=[],this.x=(t.x||0)*o.ratio,this.y=(t.y||0)*o.ratio,this.width=(t.width||0)*o.ratio,this.height=(t.height||0)*o.ratio,this.bgColor=t.bgColor||"transparent",this.bgImage=t.bgImage||null,this.overflowX=t.overflowX||"hidden",this.overflowY=t.overflowY||"hidden",this.borderLeftColor=t.borderLeftColor||null,this.borderLeftWidth=(t.borderLeftWidth||0)*o.ratio,this.borderTopColor=t.borderTopColor||null,this.id=t.id||null,this.borderTopWidth=(t.borderTopWidth||0)*o.ratio,this.borderRightColor=t.borderRightColor||null,this.borderRightWidth=(t.borderRightWidth||0)*o.ratio,this.borderBottomColor=t.borderBottomColor||null,this.borderBottomWidth=(t.borderBottomWidth||0)*o.ratio,this.visible=void 0===t.visible||t.visible,this.zIndex=t.zIndex||0,this.position=t.position||"absolute";var i=t.className;i?Array.isArray(i)?this.className=n([],i.map((function(t){return t.trim()})).filter((function(t){return t})),!0):i.trim()?this.className=[i.trim()]:this.className=[]:this.className=[],this.bgImage&&r.default.use(this.bgImage);var a=t.children,s=Object.prototype.toString.call(a);if(Array.isArray(a))for(var l=0;l<a.length;l++){var h=a[l],c=Object.prototype.toString.call(h);if("[object Object]"===c)this.append(h);else if("[object Function]"===c){var u=h();Array.isArray(u)?u.forEach((function(t){e.append(t)})):this.append(u)}}else"[object Object]"===s&&this.append(a)}return Object.defineProperty(t.prototype,"root",{get:function(){var t;return this.parent?null===(t=this.parent)||void 0===t?void 0:t.root:this},enumerable:!1,configurable:!0}),t.prototype.append=function(t){t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t)},t.prototype.remove=function(t){this.children.splice(this.children.indexOf(t),1)},t.prototype.on=function(t,e){this._eventMap[t]||(this._eventMap[t]=[]),this._eventMap[t].push(e)},t.prototype.off=function(t,e){var i=this._eventMap?this._eventMap[t]:null;i&&i.includes(e)&&i.splice(i.indexOf(e))},t.prototype.getElementById=function(t){if(this.id===t)return this;for(var e=0;e<this.children.length;e++)if(this.children[e].getElementById(t))return this.children[e].getElementById(t);return null},t.prototype.getElementsByClassName=function(t){t=t.trim();var e=[];this.className.includes(t)&&e.push(this);for(var i=0;i<this.children.length;i++)this.children[i].getElementsByClassName(t)&&e.push.apply(e,this.children[i].getElementsByClassName(t));return e.length?e:null},t.prototype.attr=function(t,e){if(t){if((0,a.comType)(t,"string"))this[t]=e;else if((0,a.comType)(t,"object"))for(var i in t)this[i]=t[i];this.canvas=void 0}},t.prototype.frame=function(t){},t}();e.default=s},593:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.comType=void 0,e.comType=function(t,e){var i=Object.prototype.toString.call(t);return i=i.substring(8,i.length-1).toLowerCase(),e?i===(e=e.toLowerCase()):i}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.Router=t.Input=t.Scrollbox=t.Label=t.Sprite=t.Root=void 0;var e=i(557);t.Root=e.default;var r=i(365);t.Sprite=r.default;var o=i(685);t.Label=o.default;var a=i(434);t.Scrollbox=a.default;var s=i(489);t.Input=s.default;var l=i(873);t.Router=l.default,t.default=e.default})(),n})()));